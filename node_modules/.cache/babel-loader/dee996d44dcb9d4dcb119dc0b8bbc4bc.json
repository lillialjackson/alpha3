{"ast":null,"code":"import _classCallCheck from \"/Users/Lillia/workspace/alpha2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Lillia/workspace/alpha2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Lillia/workspace/alpha2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Lillia/workspace/alpha2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Lillia/workspace/alpha2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Lillia/workspace/alpha2/src/components/chat/messagelist.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Message from './message.js';\n\nvar MessageList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MessageList, _React$Component);\n\n  function MessageList() {\n    _classCallCheck(this, MessageList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MessageList).apply(this, arguments));\n  }\n\n  _createClass(MessageList, [{\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      var node = ReactDOM.findDOMNode(this);\n      this.shouldScrollToBottom = node.scrollTop + node.clientHeight + 100 >= node.scrollHeight;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.shouldScrollToBottom) {\n        var node = ReactDOM.findDOMNode(this);\n        node.scrollTop = node.scrollHeight;\n      }\n\n      console.log(this.props.messages);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.roomId) {\n        return React.createElement(\"div\", {\n          className: \"message-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"join-room\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, \"\\u2190 Join a room!\"));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, this.props.messages.map(function (message, index) {\n        return React.createElement(Message, {\n          key: message.id,\n          username: message.senderId,\n          text: message.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return MessageList;\n}(React.Component);\n\nexport default MessageList;","map":{"version":3,"sources":["/Users/Lillia/workspace/alpha2/src/components/chat/messagelist.js"],"names":["React","ReactDOM","Message","MessageList","node","findDOMNode","shouldScrollToBottom","scrollTop","clientHeight","scrollHeight","console","log","props","messages","roomId","map","message","index","id","senderId","text","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,OAAP,MAAoB,cAApB;;IAIMC,W;;;;;;;;;;;;;0CAEkB;AACpB,UAAMC,IAAI,GAAGH,QAAQ,CAACI,WAAT,CAAqB,IAArB,CAAb;AACA,WAAKC,oBAAL,GAA4BF,IAAI,CAACG,SAAL,GAAiBH,IAAI,CAACI,YAAtB,GAAqC,GAArC,IAA4CJ,IAAI,CAACK,YAA7E;AACD;;;yCAEoB;AACnB,UAAG,KAAKH,oBAAR,EAA6B;AAC7B,YAAMF,IAAI,GAAGH,QAAQ,CAACI,WAAT,CAAqB,IAArB,CAAb;AACAD,QAAAA,IAAI,CAACG,SAAL,GAAiBH,IAAI,CAACK,YAAtB;AACC;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,QAAvB;AAED;;;6BAEO;AACN,UAAI,CAAC,KAAKD,KAAL,CAAWE,MAAhB,EAAwB;AAChB,eACI;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,CADJ;AAOH;;AACL,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKF,KAAL,CAAWC,QAAX,CAAoBE,GAApB,CAAwB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AAC3C,eACE,oBAAC,OAAD;AAAS,UAAA,GAAG,EAAED,OAAO,CAACE,EAAtB;AAA0B,UAAA,QAAQ,EAAEF,OAAO,CAACG,QAA5C;AAAsD,UAAA,IAAI,EAAEH,OAAO,CAACI,IAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAID,OALA,CADH,CADF,CADA,CADF;AAcD;;;;EAxCuBpB,KAAK,CAACqB,S;;AA4ChC,eAAelB,WAAf","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom'\nimport Message from './message.js';\n\n\n\nclass MessageList extends React.Component {\n\n  componentWillUpdate() {\n    const node = ReactDOM.findDOMNode(this)\n    this.shouldScrollToBottom = node.scrollTop + node.clientHeight + 100 >= node.scrollHeight\n  }\n\n  componentDidUpdate() {\n    if(this.shouldScrollToBottom){\n    const node = ReactDOM.findDOMNode(this)\n    node.scrollTop = node.scrollHeight\n    }\n    console.log(this.props.messages);\n\n  }\n\n  render(){\n    if (!this.props.roomId) {\n            return (\n                <div className=\"message-list\">\n                    <div className=\"join-room\">\n                        &larr; Join a room!\n                    </div>\n                </div>\n            )\n        }\n    return(\n      <div className=\"container\">\n      <div className=\"col-sm-12 col-md-8\">\n        <div className='message-list'>\n          {this.props.messages.map((message, index) => {\n            return (\n              <Message key={message.id} username={message.senderId} text={message.text} />\n\n            )\n          })}\n        </div>\n      </div>\n    </div>\n    );\n  }\n\n}\n\nexport default MessageList;\n"]},"metadata":{},"sourceType":"module"}